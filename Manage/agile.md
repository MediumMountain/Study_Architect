# アジャイル

## 特徴

### アジャイルマニフェスト

```
アジャイル宣言の背後にある原則


私たちは以下の原則に従う:
顧客満足を最優先し、
価値のあるソフトウェアを早く継続的に提供します。

要求の変更はたとえ開発の後期であっても歓迎します。
変化を味方につけることによって、お客様の競争力を引き上げます。

動くソフトウェアを、2-3週間から2-3ヶ月という
できるだけ短い時間間隔でリリースします。

ビジネス側の人と開発者は、プロジェクトを通して
日々一緒に働かなければなりません。

意欲に満ちた人々を集めてプロジェクトを構成します。
環境と支援を与え仕事が無事終わるまで彼らを信頼します。

情報を伝えるもっとも効率的で効果的な方法は
フェイス・トゥ・フェイスで話をすることです。

動くソフトウェアこそが進捗の最も重要な尺度です。

アジャイル･プロセスは持続可能な開発を促進します。
一定のペースを継続的に維持できるようにしなければなりません。

技術的卓越性と優れた設計に対する
不断の注意が機敏さを高めます。

シンプルさ（ムダなく作れる量を最大限にすること）が本質です。

最良のアーキテクチャ・要求・設計は、
自己組織的なチームから生み出されます。

チームがもっと効率を高めることができるかを定期的に振り返り、
それに基づいて自分たちのやり方を最適に調整します。

```

### 4つの価値
1. 「個人と対話」
    - プロセス、ツールよりも個人と対話。
1. 「実際に動く（働く）ソフトウェア」
    - 広範囲で包括的なドキュメントよりも実際に動くソフトウェア。
1. 「顧客とのコラボレーション」
    - 契約交渉よりも、顧客とのコラボレーション（利的協力）。
1. 「変化に対応」
    - 計画に従うよりも、変化に対応。



### 12の原則
1. 顧客満足を最優先して継続的に価値あるソフトウェア提供する。
1. 要求変更を歓迎し、変化を味方につけて顧客の競争力を向上させる。
1. 「動くソフトウェア」を2～3週間、2～3ヶ月と短い間隔でリリースする。
1. ビジネスサイドと開発者は日々一緒にプロジェクトで働く。
1. 意欲に満ちた人を集めてプロジェクトを構成し、メンバーを信頼する。
1. 情報を伝える効率的で効果的な方法は対面で話をすること。
1. 動くソフトウェアが進捗の最も重要な尺度になる。
1. アジャイル･プロセスは持続可能な開発を促進する。一定のペースを維持する。
1. 技術的な卓越性と優れた設計への欠かさない注意が機敏さを高める。
1. シンプルさが本質。
1. 最良のアーキテクチャ・要求・設計は、自己組織的なチームから生まれる。
1. 定期的に振り返りをして、自分たちのやり方を最適に調整する。

（「Principles behind the Agile Manifesto」より抄訳）


### ストーリー
- アジャイル開発では要件をストーリーと呼ぶ
- ストーリー単位でテスト、設計、コーディングを並行して行う

- 短期間で区切って開発を行う目的は動作するソフトウェアをすぐに作り、顧客に確認してもらうことで素早くフィードバックをもらうこと


### スコープ（開発範囲）
- 開発プロセス要素(人員・設備、納期、品質の３つ)に追加される要素
- 以下、メリットと考えられる点
    - システム稼働に必要最低限の機能だけを開発することができる。
    - 仕様などの変更に対して、対象となる機能だけを変えることができる。
    - 問題発生時にスコープを調整する、という解決策をとることができる。

### イテレーション
- 一回の繰り返し期間
- スプリントとも

- イテレーション中でも再計画するならストーリーの変更してもいいと思う


### イテレーション計画
- スプリントプランニング


### スプリントバックログ
- タスク一覧


### 常時リリース
- 一回のイテレーション毎に動作するソフトウェア、リリース可能なシステムを作り上げる。
- サービスの提供を早期に行うことでコストの回収を早い段階から始めることができる。

### 自動化
- 従来はシステムをリリースするのに相当量のテストを行っていた。
- 短期間でシステムをリリースするアジャイルではソースコードの作成が終わったあと、テストと本番環境への配置が瞬時に行われる必要がある。
- これらの作業は自動化が行われる。



### プロダクトバックログ
- ストーリーを含めた製品要求一覧


### インクリメンタル
- 成果物


### 適応型プロセス
- 開発を行っている最中だとしても、問題が発生し求められるのであればプロセスを変更する
- 従来の開発プロセスは「予備型」と呼ばれる


## アジャイル開発チーム

全員で責任を持つ
全員で一緒に働く
- 誰かが特定のことをしない
- 誰かが属人的にならない
    - 多能工
        - アジャイル開発を行う開発者には設計、実装、テストを行うことができるスキルが求められる



- 少数チーム、大規模なら複数チーム
    - メンバーは10人以下程度で構成する方がよい


### アジャイルコーチ
- ファシリテーションを行う
- プロダクトを開発するチームがアジャイルプラクティスを使いこなして、よりよいチームとなり、そしてよりよいプロダクトを作ることができるように支援する、カイゼンの専門家


```
アジャイルコーチとスクラムマスターの違いは何ですか？
この質問は、見た目以上に答えを出すのが難しい問題です。

まず問題なのは、コーチという言葉が規制されていないことと、アジャイルコーチの定義が曖昧であることです。資格や経験に関係なく、誰でもアジャイルコーチを名乗ることができます。

スクラムマスターという用語の定義はより明確で、いくつかの組織がスクラムマスターの認定資格を提供しています。明確な定義と認定があるにも関わらず、認定資格を持っている人を含め多くの人がスクラムマスターをチームレベル（のみ）の役割として誤解しています。

スクラムマスターは、チームを超えた組織的な役割です。スクラムマスターは変革の代理人として、あらゆるレベルの障害を取り除き、組織が効果的にスクラムを採用できるようにする責任があります。多くの人がスクラムマスターをチームレベルの役割だと理解（誤解）していて、進歩を表す称号を望む人もいるので、多くの人がアジャイルコーチという言葉を使ってスクラムマスターの役割を超えて進歩した人を識別しています。

実際、良いスクラムマスターは、ファシリテート、メンタリング、トレーニング、コンサルティングのスキルに加えて、強力なコーチングスキルを示すべきです。その意味では、スクラムマスターはアジャイルコーチです。

コーチという言葉は規制されていないので、組織はアジャイルコーチという肩書きを額面通りに鵜呑みにしない方が良いでしょう。その代わりに、経験の深さと幅の広さを注意深く見るべきです。多くのスクラムマスターは、自称アジャイルコーチよりも経験豊富なのかもしれません。
```


### チームメンバについて

- 開発メンバー(役割)
    1. 開発チーム
    1. プロダクトオーナー
        - 開発する製品の最終責任者
        - 製品が提供する価値を最大化することに責任をもつ
        - プロジェクトのゴールに沿った適切な意思決定のため原則一人
        - 様々な利害関係者と調整を行い、製品への要求をストーリーとして洗い出し、整理・管理する。
        - 発注側、受注側といった関係にかかわらず、アジャイルチームのプロジェクト成功に向けてメンバの一人として働く
        - 開発チームからのＱＡの解答なども行う

    1. チームリーダー
        - 開発チーム、プロダクトオーナーが円滑に業務を行えるようにサポートする
        - 問い合わせの窓口、マネジメント対応、不要な対応からチームを遠ざける、などなど・・・


- 利害関係者（ステークホルダー）
    - 経営者
    - 情報システム部門の管理者や担当者
    - 製品の利用部門、実際の利用者
    - 管理部門の担当者

    ```
    顧客の利害関係者からの製品への要望はプロダクトオーナーが意見を集約した上で製品の方針に関する意思決定を行う。
    プロジェクトの進め方についてや品質に関する意見はチームリーダーが主となり、改善を進める。
    ```


### ペアプログラミング
- 二人一組で1台のマシンを使用し、１つのプログラム（機能）を開発する手法
- コーディングと同時にレビューも行うことになるため、単純なミスが減り品質の高いコーディングが期待できる開発手法
    - 作業の正確さと品質を向上させる
    - ペアプロで生産性は下がるが、ペアプロで品質が上がったり教育面に貢献するのでやったほうがいい
    - ペアプロの役割や相手は定期的に変えたほうがいい
- ドライバーとナビゲータの役割は固定化せず、一定の間隔で区切り、交代を行う。
- ペアの組み合わせも変動させることが望ましい


- ドライバー
    - 実際にキーボードでタイピングしてコードを書く人
    - 基本的にはナビゲータの指示（設計）通りに作業を行うが、適時コメント、ディスカッションを行う

- ナビゲータ
    - 要件や仕様に合わせてどのようなアルゴリズムにするのかをドライバーに指示する



### リファクタリング
- 開発を繰り返せるようにソースコードの品質を常に担保する必要がある
- リファクタは一度に実施しない。リファクタは適度なタイミングで実施する
- リファクタはいろんなメリットがあるのでやったほうがいい
- リファクタはやめ時を考えること
    - 自信がなくなったら
    - テストに通せなくなったら
    - ペアが理解できなくなったら

- メリット
1. ソフトウェア設計の向上（開発者メリット）
    - ソースの設計を理解し、健全に保つことが可能に（し易く）なる

1. ソースコードの内容が理解しやすくなる（開発者メリット）
1. バグを発見しやすくなる（開発者メリット）
1. ユーザ提供までの時間が短くなる（ユーザメリット）
    - 構造化された理解しやすいコードは修正の影響範囲を把握しやすく、調査や判断の時間を短縮する


- テクニック
1. 作業を小分けにしてこまめにテストする
1. 構成管理ツールを利用する
1. 自動テスト
1. リファクタリングカタログ
1. メトリクス
    - コード行数
    - メソッドの凝集度の欠落
    - 複雑度
    - 結合度




### 常時結合（Continuous Integration:CI）
- 開発したソースコードに対して、一連の確認プロセスを実施し、正しく動作するかをこまめに確認しながら開発を進める
- 問題の早期発見、バグやデグレの修正コストの短縮につながる
- 流れ
    1. コミット
    1. 自動ビルド
    1. 自動テスト
    1. フィードバックからバグを修正



### テスト駆動開発(Test Driven Development)
- 「動くキレイなソースコードを作成する」ことを目的としている
- プロセス
    1. はじめにテストから作りだす
    1. ストーリーからシナリオを考え、さらにブレークダウンして作成する
        - TDDではテストケースを1つずつ増やしていく。まとめて増やさない
    1. リファクタリングによりコードを改善し、重複などを排除する

- メリット
    1. 構造的な設計になる
    1. テストコードが仕様の説明になる
    1. 実装完了の基準が明確になる
    1. リグレッションテストの網羅性を高める
    1. CIの導入が容易になる


## プロジェクト管理

- スタンドアップミーティング（デイリースクラム）
    - 毎日行われる短時間の打合せ


- カンバンボード

- 主体性
    - 理想的なチームビルディングでは、誰がどのストーリーを担当するかは管理者ではなく実開発者が手を挙げて決める。


ビジョンはみんなで知っている方がいい
イテレーションの中でタスク・ストーリー・メンバーの変更はしない
要件はストーリーである
ストーリーは顧客が受入れテスト実施するときの評価基準になる
スプリントバックログ項目はタスクと同一である
イテレーションは固定期間、絶対変えない
イテレーションごとにリリースする
イテレーション計画は細かく立てない。まとめて立てない。イテレーションごとに立てる
イテレーション計画は2部制で行う（1部はPOの説明とゴール設定、2部はストーリー選択とタスク洗い出し。2部はPOの参加が任意）
イテレーション計画第1部でストーリーのリファクタリングを行う
イテレーションレビューはイテレーションの最後にやる
ふりかえりはイテレーションの終了後にやるが、必要があればイテレーション中でもやる
ストーリーはポイントで見積もる
設計判断の根拠を示したドキュメントをイテレーション内に作成する
イテレーション開始前にアーキテクチャ設計のドキュメントを作る
運用・保守ドキュメントを作る

### 会議体
### 計画
### ストーリーポイント
- ストーリー は理想日でも見積もれる

### ドキュメント


### インセプションデッキ
- 書籍「アジャイルサムライ」で紹介されている、アジャイル開発のプラクティスの一つ
    - そのプロジェクトのWhyとHowを、プロジェクト開始前に「10個の質問」に答えることで明確にし、チーム内で共有する為に行われる活動

- 10個の質問

    1. 我々はなぜここにいるのか
        - このプロジェクトの根幹に関わる「大事な理由」、プロジェクトのゴールを明確にする。

    1. エレベーターピッチ
        - このプロジェクトで作られるプロダクトは、誰にどんな価値を提供するのか？を明確にする
        - 短時間で相手の興味関心を得るプロジェクトの売り文句ともなる

    1.  パッケージデザイン
        - プロダクト名、イメージ、キャッチコピー、ユーザーへのアピールポイントなどを明確にする

    1. やらないことリスト(やることリスト)

    1. プロジェクトのコミニティ
        - プロジェクトに関わる関係者を明確にする

    1. 技術的な解決策の概要
        - 採用するプログラミング言語、ライブラリ、ツール、リスクがある箇所などを明確にする

    1. 夜も眠れなくなるような問題は何だろう?
        - 「もし発生したら怖いこと」を明確にする

    1. 期限
        - スケジュールを明確にする

    1. トレードオフ・スライダー
        - 間、予算、範囲、品質などをMAX <–> Min のスラーダー上で重要度を明確にする

    1. 初回のリリースに必要なもの
        - 人、期間、予算など、初回リリースまでに必要なリソースを明確にする


### MoSCoW分析
- Must：絶対にやらなければならないもの
    - これを実装しなければシステムもしくはプログラムの存在価値（作る意味）がなくなるもの

- Should：やるべきもの
    - これをやらないとシステム、もしくはプログラムの価値が大きく失われるもの

- Could：やってよいもの
    - もし可能であればやった方がよい、やらなくてもシステムもしくはプログラムの価値が大きくは損なわれないもの

- Won't：やらないもの
    - やる意味がないものやらない方が保守性があがるなど

```
C,Wを先に決めることが大事
```