# サービスマネジメント

## サービス・パッケージ
- 特定のタイプの顧客ニーズにソリューションを提供したり、特定のビジネス成果を支えるために組み合わされた2つ以上のサービスのことです。 
    - コアサービス，実現サービス及び強化サービスの組合せで構成された，特定の種類の顧客ニーズへのソリューションを提供する複数のサービスの集まりである。

- サービスパッケージは、コアサービス、有効化サービス、および拡張サービスの組み合わせで構成されます。 
- サービスパッケージは、特定のレベルのユーティリティと保証を提供します。


## サービス・ポートフォリオ
- サービス・プロバイダによって管理されている全てのサービスをリスト化し、そのサービスごとに詳細情報をまとめたものです。
- サービス・パイプライン，サービス・カタログ及び廃止済みサービスで構成された，サービス・プロバイダによって管理されている"全て"のサービスである
    - サービス・ポートフォリオ内のサービスは、サービス・ライフサイクル上の位置に応じ、"検討中か開発中"サービスのリストである「サービス・パイプライン」、"稼働中か展開可能"サービスのリストである「サービス・カタログ」、"廃止済み"サービスのリストである「廃止済みサービス」に分けて管理されています。


- サービス・プロバイダの約束事項と投資を表すものであって，サービス・プロバイダによって管理されている"検討中か開発中"，"稼働中か展開可能"及び"廃止済み"の全てのサービスが含まれる。

## サービス・カタログ
- サービスの販売と提供の支援に使用され，顧客に公開されるものであって，"検討中か開発中"と"廃止済み"のサービスは含まれず，"稼働中か展開可能"のサービスだけが含まれる。
- 成果物，価格，連絡先などが内容として含まれた，稼働中の全てのITサービスに関する情報を格納するデータベース又は構造化された文書である


# JIS Q 20000-1:2020(サービスマネジメントシステム要求事項)
https://kikakurui.com/q/Q20000-1-2020-01.html

# SLA(Service Level Agreement)
- 発注者とサービス提供者との間で、サービスの品質の内容について合意した文書のことです。
- 内容は、サービスの品目と水準，水準が達成できなかった場合のペナルティなどが盛り込まれ、サービスレベルは客観的な方法で測定できる数値で記載されます。
- 日本語では「サービス品質保証制度」や「サービス品質保証」と呼ばれます。
    - これはユーザーと事業者の間での「どのようなサービスを提供するか、その品質について明文化し、合意したもの」を指します。

- SLAのはじまりは、ネットワークが普及し始めた時代に遡ります。
- 当時は現在のように通信の品質が高くなく、データ転送速度が低下したり、通信障害が発生することがありました。
- そこで通信事業者は、データ転送速度の下限や障害時のダウンタイムの上限などを設定しました。
- あわせて、万が一その基準を満たせなかった場合のペナルティーなどを規定して、ネットワークの通信品質を保証しました。これがSLAのはじまりだと言われています。

- 現在は通信サービスに限らず、データセンターやシステムの運用・保守サービスなど、幅広い分野でSLAが規定され、利用されています。

https://www.tmj.jp/column/column_9072/


- 顧客の要望とコストとの兼ね合いで，サービスレベルを設定する
    - サービスレベルを高く設定するとそれに比例してサービス料金も高くなるので、顧客が求めるサービスレベルと顧客が負担できるコストの関係を理解した上で適切なサービスレベルを設定する必要があります。
- SLAは定期的に見直して更新することが望まれます。将来にわたって変更不要なレベルに設定すると、過剰なリソースを前提とした価格を要求される可能性があるため、契約金額の高騰につながるおそれがあります。
- SLAの項目には、目標設定型と努力目標型に分類されます。努力目標型の項目は、努力することが義務ですからペナルティを設定する必要はありません。
- サービスレベル品目を多くすれば、よりよいサービスの提供ができますが、その反面コスト増加にもなってしまいます。重要度の低いサービスはサービスレベルの設定対象から除外するなど、ある程度絞り込むことが重要です。




### インシデント対応

![インシデント対応](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/incident_1.png)  
![インシデント対応](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/incident_2.png)  



## サービス継続及び可用性管理
- SLAで合意したサービス継続及び可用性を達成することを目的とし、サービス障害や災害の予防及びそこからの復旧、並びに目標達成のための十分なサービスの可用性の提供を確実にするプロセスです。
- サービス継続及び可用性管理の主要な活動は、リスクアセスメントとリスクマネジメントであり、リスクアセスメントでは重大なサービスの停止から事業が受けるインパクトを調査する事業影響度分析を実施することが望まれます。
- リスクアセスメント及び事業影響度分析に基づいてサービス継続計画が策定されます。



## ワークアラウンド(Workaround)
- インシデント発生時の回復策のことで、完全な解決策がまだ存在しないインシデントや問題の悪影響を低減または排除するために策定されます。
- 問題やエラーコードごとのワークアラウンドを用意することで、業務の停止時間を最小限に抑えることができます。

    ![ワークアラウンド](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/Workaround_1.png)  
    ![ワークアラウンド](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/Workaround_2.png)  



## ミッションクリティカルシステム
- 障害発生などによってシステムが中断・停止すると巨額の損失や信用の失墜などの致命的な問題を招く可能性が高いため、24時間365日止まることを許されないシステムをいいます。
- 交通機関や金融機関の基幹システム、およびECサイトの基幹システムなどがミッションクリティカルシステムの例で、これらのシステムでは停止をさせないために極めて高い信頼性や耐障害性、保守性などが要求されます。


## ベンチマーキング(benchmarking)
- 企業経営で用いられる分析手法です。
- 自社の製品・サービス及びプロセスを定量的・定性的に測定し、それを業界で最も成功を収めている企業(ベスト企業)のものと比較しそのギャップを把握することを表します。
- 明らかになったギャップを埋めるためにベスト企業のベストプラクティスを参考に業務改善を進めます


# 7ステップの改善プロセス
- ITIL 2011 editionに記載
- 改善を
1. 特定
1. 定義
1. 収集
1. 処理
1. 分析
1. 提示
1. 実装
- するために必要な手順を定義および管理するプロセス



# サービスの設計・移行

## クラウドサービス

![クラウドサービス](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/cloud_service.png)


## サービス・ポートフォリオ
- サービス・プロバイダによって管理されている全てのサービスをリスト化し、そのサービスごとに詳細情報をまとめたものです。
- サービス・ポートフォリオ内のサービスは、サービス・ライフサイクル上の位置に応じ、"検討中か開発中"サービスのリストである「サービス・パイプライン」、"稼働中か展開可能"サービスのリストである「サービス・カタログ」、"廃止済み"サービスのリストである「廃止済みサービス」に分けて管理されています。


    ![サービス・ポートフォリオ](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/Service_portfolio.png)  
    ![サービス・ポートフォリオ](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/Service_portfolio_1.png)  
    ![サービス・ポートフォリオ](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/Service_portfolio_2.png)  



## TCO(Total Cost of Ownership:総所有費用)
- ある設備・システムなどにかかわる、購入から廃棄までに必要な時間と支出の総計金額を表します。
- TCOは、初期投資額であるイニシャルコスト、維持管理費用であるランニングコストに分類されます。




## デシジョンツリー（Decision Tree）
- 決定木
- 意思決定の際に考えられる選択肢を樹形図に表して比較検討する手法
- ある目標やゴールに向かう際にとりうる選択肢を洗い出し、それらを評価・比較するために用いるフレームワーク


- 【デシジョンツリーのメリット】
    - 主観や直感に頼らず、客観的な判断ができる
    - 複数の選択肢を比較検討できる
    - 期待値を計算することで、最善の意思決定が可能になる
    - 複数の選択肢を視覚化することで、意思決定の過程を明確にできる
- 【デシジョンツリーの作成手順】
    - 分析の対象となるテーマを決める
    - ツリーの終点に記載されるゴールや評価方法を決定する
    - ツリーの始点に問いを書き、その問いから考えられる選択肢を派生させる
    - 選択肢ごとの発生確率と得られるリターンを記載する
    - それぞれの選択肢の期待値を計算する
- 【デシジョンツリーの活用例】
    - 製薬や石油発掘などの業界における意思決定
    - 金融工学の考え方を応用したリアル・オプションというプロジェクト評価
    - 顧客セグメントや優先順位づけ



# システム移行
## パイロット移行方式
- すべての部門を同時に新システムに切り替えるのではなく、まず限定的な部門だけに新システムを導入し、その運用状況や移行経験を生かして全体的なシステムの移行につなげていく方式です。
    - 限定した部門で新システムを導入・観察した後にほかの全部門を移行するので，移行に関する問題が発生しても影響範囲を局所化できる。
    - 一斉移行方式と比較して、トラブル発生時の影響を局所化できることや、順次移行方式と比較して移行のスケジュールを短くできるメリットがあります。



## 順次移行方式
- 機能的に閉じたサブシステム単位に，短期間で順次移行していくので，運用部門の負荷が少なく，問題が発生しても当該サブシステム内に抑えることができる。

## 並行運用移行方式
- 新・旧両システム分のリソースを用意し，並行稼動させるので，新システムで問題が発生しても業務への影響を最小にできる。

## 一斉移行方式
- ほかの移行方式に比べると移行期間は短くできるが，事前に全部門との間で詳細な計画を立てるとともに，新システムに高い信頼性が要求される。





# サービスマネジメントシステム：SMS
JIS Q 20000-2:2013(サービスマネジメントシステムの適用の手引)  
https://kikakurui.com/q/Q20000-2-2013-01.html
## サービスマネジメント
- 価値を提供するため，サービスの計画立案，設計，移行，提供及び改善のための組織の活動及び資源を，指揮し，管理する，一連の能力及びプロセス


## プロセス
- 意図した結果を得るためにインプットを使用する，相互に関連する又は相互に作用する一連の活動


## サービス継続
- サービスを中断なしに，又は合意した可用性を一貫して提供する能力

    - サービス継続管理
        - 合意した目標の中で，合意したサービス継続のコミットメントを果たすことを確実にする。

## BCP(Business Continuity Planning:事業継続計画)
-  企業が、テロや災害、システム障害や不祥事といった危機的状況下に置かれた場合でも、重要な業務が継続できる方策を用意し、生き延びることができるようにしておくための戦略を記述した計画書
- 予期せぬ重大災害が発生した場合に、必要最低限の事業を継続しつつ、業務を早期に復旧・再開できるようにするための行動計画です。
- 近年、地震、火災・爆発、大規模なシステム障害などが相次いでおり、その結果、基幹となる事業・業務の停止に追い込まれるケースが見られることからBCPの重要性が高まっています。

- 経済産業省や厚生労働省の資料では、BCPの発動から全面復旧に至るまでを以下の4段階のフェーズに分けています。
    1. BCP発動フェーズ
        - 災害や事故の発生（或いは発生の可能性）を検知してから、初期対応を実施し、BCP発動に至るまでのフェーズ
    1. 業務再開フェーズ
        - BCPを発動してから、バックアップサイト・手作業などの代替手段により業務を再開し、軌道に乗せるまでのフェーズ
    1. 業務回復フェーズ
        - 最も緊急度の高い業務や機能が再開された後、さらに復旧する業務の範囲を拡大するフェーズ
    1. 全面復旧フェーズ
        - 代替設備・手段から平常運用へ切り替えるフェーズ









## 目標復旧時点(Recovery Point Objective:RPO)
- 障害の発生などの理由により業務が中断した場合に、過去の何時の時点までの状態に戻すのかを示す目標値です。
    - いつまでに復旧するのか

## 目標復旧時間(Recovery Time Objective:RTO)
- 業務中断後いつまでに復旧させるかを示す
    - いつの時点のデータまで復元する必要があるか



## 重要業績評価指標(KPI:Key Performance Indicator)
- KPI(Key Performance Indicator，重要業績評価指標)は、企業目標やビジネス戦略の実現に向けて行われるビジネスプロセスについて、その実施状況をモニタリングするために設定する指標
    - 可用性管理のKPI
        - サービスの中断回数及びそのインパクトの削減率
    - ITサービス継続性管理のKPI
        - 災害を想定した復旧テストの回数
    - キャパシティ管理のKPI
        - 処理能力不足に起因するインシデント数の削減率
    - サービスレベル管理のKPI
        - 目標を達成できなかったSLAの項目数

https://www.kaonavi.jp/dictionary/kpi/


## 重要目標達成指標(KGI:Key Goal Indicator)
- ビジネスにおいて組織や企業が設定する最終的な経営目標を定量的に評価するための指標

## 重要成功要因(CSF:Critical Success Factor)
- 経営目標を達成するに当たって経営戦略上、重要となる管理項目



1. KGIの設定
1. CSFの抽出
1. KPIの設定





## 目標による管理（MBO：Management by Objectives）
- 個々のグル―プや担当者に自らの業務目標を設定、申告させ、その進捗や実行を各人が自ら主体的に管理する手法



# ITIL(Information Technology Infrastructure Library)
- ITIL(Information Technology Infrastructure Library)は、ITサービスマネジメントにおけるベストプラクティス（成功事例）をまとめた書籍群です。
- ITIL v2では主にITサービス運営における日々の運用の手法について記したサービスサポート(通称:青本)・主に中長期的なITサービスの計画と改善手法について記したサービスデリバリ(通称:赤本)等から構成されています

- 2012年現在の最新バージョンはITIL v3であり、ITIL v3では、サービスストラテジから継続的サービス改善までの5冊のコアブックと、その他の補完的な書籍から成り立っています。v2のプロセスとv3を比較すると次のようになります。



## [ITIL v2]
- サービスサポート
    - 主にITサービス運営における日々の運用の手法について記した書籍で,以下でで構成されている。
        1. 「インシデント管理」
            - システムの異常終了や構成機器の障害発生などのようにサービスの中断やサービス品質の低下につながるような事象が発生した時に、サービスの中断時間を最小限に抑えて速やかに回復することを目指すプロセス
            - インシデントの解決とサービスの復旧
            - ITILでは、インシデント管理が独立したプロセスとして定義されていますが、JIS Q 20000-1「第1部 サービスマネジメントシステム要求事項」では、インシデントとサービス要求※の両方を合わせた「インシデント及びサービス要求管理」として定義されています。
        1. 「問題管理」
            - インシデントや障害原因の追及と恒久的な対策、および再発防止策の策定を目的としたプロセス
            - インシデントの発生または再発を防止するための処置を決めるプロセス
            - トレンド分析と予防措置
            - 既知の誤りを記録する    
        1. 「変更管理」
            - 変更作業にともなうリスクを管理し、リスクとメリットを考慮して変更作業の管理とリリース管理プロセスへ引き継ぐかどうかの評価を行うプロセス
            - インシデントから発生する問題の解決策の評価
            - 障害対応として，RFC(Request For Change)に基づいてシステムの構成を変更する。
            - RFCは、インシデント管理プロセスや問題管理プロセスから発行される変更要求です。
        1. 「リリース管理」
            - 変更管理プロセスで承認された変更作業について、実際のサービス提供システムへ変更作業を行うプロセス
            - リリースの試験、正しい場所及び時間での構成品目の配付、など
        1. 「構成管理」
            - ITサービスの構成アイテム（CI）情報の精確な収集、認識と収集した情報の維持管理および確認・監査を目的としたプロセス
            - すべてのサービス資産と構成およびその関係を特定して構成管理データベース(CMDB)を構築し、それらサービス構成要素の維持管理や制御を活動の中心とするプロセス
            - 構成管理データベースには、構成品目、版、関係、ベースライン及びリリースなどの構成情報が記録され、他のプロセスからの求めに応じて情報の提供を行います。
            - 既知のエラーレコードを作成して，データベースに登録する、など
        1. 「サービスデスク」
            - ITサービスを提供する組織とITサービスを利用する顧客の窓口的役割を担い、インシデント対応などのサポート業務を行う事を目的とした機能
            - インシデントの発生を記録し，関係する部署に状況を連絡する。


サービスデスクの組織構造には次のような形態があります。
- ローカルサービスデスク
    - ユーザのローカルサイト内、若しくは地理的に近い場所に設置されたサービスデスク。担当者の直接派遣が容易であり、ユーザの問題や改善点を把握しやすい。
- 中央サービスデスク
    - 一箇所の拠点にてすべてのユーザからの問い合わせに対応する体制のサービスデスク。運営コストを低く抑えることができ情報の管理がしやすい。
- バーチャルサービスデスク
    - 実際には分散しているが連携することで擬似的に一つの組織として機能を提供するサービスデスク。
- フォロー･ザ･サン
    - 2つ以上の異なる(大陸の)拠点に配置され、中央での統括管理によって24時間365日のサービスを提供するサービスデスク。

        ![サービスデスク](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/service_desk_1.png)  
        ![サービスデスク](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/service_desk_2.png)  



- サービスデリバリ
    - 主に中長期的なITサービスの計画と改善手法について記した書籍で、以下で構成されている。
        1. 「サービスレベル管理」
            - 顧客とサービス提供者の間でSLA(Service Level Agreement)を締結し、サービスレベルを定義，合意及び管理するプロセス
            - SLAの締結後は、PDCAマネジメントサイクルによってサービスの維持、及び向上を図る活動を行います。
            - サービス提供者と利用顧客の間で合意したサービスレベルを管理するプロセス
            - サービスデスクに対する顧客満足度が合意したサービス目標を満たしているかどうかを評価し，改善の機会を特定するためにレビューする。
            - あらかじめ定めた間隔で、組織は、サービスレベル目標に照らしたパフォーマンス、SLAの作業負荷限度と比較した実績および周期的な変化を監視し、レビューし、報告しなければならない
            - 組織において期ごとに目標に対する実績報告があるように、サービス提供においても目標に対する実績、達成度、課題などを、定期的に顧客に対して報告します
            - サービス要求の優先度付け、なども
        1. 「ITサービス財務管理」
            - ITサービスの提供に必要なコストとITサービス利用に伴う収益性を管理するプロセス
        1. 「可用性管理」
            - ITサービスの提供に必要なシステムとマンパワーに関する可用性を管理するプロセス
            - ITサービスが必要な時に必要なだけ提供できるように管理を行うプロセス
            - 平均故障間隔、オペレータ要員数など
            - 計画が発動された場合の可用性の目標，平常業務の状態に復帰するための取組みなどを含めた計画を作成し，導入し，維持する。
        1. 「ITサービス継続性管理」
            - ITサービスの提供が停止した場合の顧客への影響を最小限に防ぐ事を目的としたプロセス
            - 災害や障害などで事業が中断しても，要求されたサービス機能を合意された期間内に確実に復旧できるように，事業影響度の評価や復旧優先順位を明確にする。(可用性管理にも該当？)
            - インシデント発生件数など
        1. 「キャパシティ管理」
            - 利用顧客が要求するサービスレベルに対し、システムに将来必要とされるリソースを管理するプロセス
            - サービス提供前のキャパシティプランニングの実施や運用開始後もサービスレベルを維持するためのシステムの拡張やメンテナンスを計画するプロセス
            - 定期的にシステム資源(CPU利用率やディスク使用率など)の利用状況や性能を測定し、その結果を分析することで現在や近い将来にシステムの性能上ボトルネックになる装置を特定・予測する。
            - ITリソースに対する，現在の需要の把握と将来の需要の予測ができる。
            - 現在の資源の調整と最適化，及び将来の資源要件に関する予測を記載した計画を作成する。
## [ITIL v3]
ITIL v3では、ITIL v2でインシデントと分類されていた事象のうちITサービスに影響する軽微なものをイベントと定義しイベント管理プロセスで監視・確認することとしています。  
イベントの検知は監視ツールなどを用いて行われるので適切なフィルタリング設定を行うことが求められます。  
- サービスストラテジ
    - 「ITサービス財務管理」プロセス（サービスデリバリ）を包含している。
- サービスデザイン
    - 「可用性管理」「キャパシティ管理」「ITサービス継続性管理」プロセスを包含している。
- サービストランジション
    - 「変更管理」「リリース管理」「構成管理」プロセスを包含している。
- サービスオペレーション
    - 「サービスデスク」「インシデント管理」「問題管理」プロセスを包含している。
- 継続的サービス改善
    - 「サービスレベル管理」プロセスを包含している。
    - パフォーマンスを向上するために繰り返し行われる活動
    - PDCAサイクルを回してサービスの継続的な改善を行う
    - 常に変化するビジネスニーズに整合するために、またはサービスの適切性、妥当性、有効性などの向上を目的として、ITサービス、プロセス、ITインフラストラクチャを常に改善していくプロセス



![サービスマネジメントプロセスの分類](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/Classification_of_service_Management_Processes.png)


#### サービスの予算業務及び会計業務プロセス
- 構成品目の総所有費用及び総減価償却費用の計算




# ITIL 2011 edition
## サービスライフサイクルは5つのプロセス群から構成されます。

### サービスストラテジ（サービス戦略）
サービスをどのように設計、開発、実装、維持していくかという戦略を確立する。

### サービスデザイン（サービス設計）
サービス戦略に基づき、顧客およびビジネス上の要件を満たすための具体的なサービスを設計する。

### サービストランジション（サービス移行）
新規サービス又はサービスの変更をテストし、本番環境にリリースする。

### サービスオペレーション（サービス運用）
SLAで合意したサービスレベルを維持し、環境の変化に対応しながらサービスを継続的に提供する。

### 継続的サービス改善
サービスおよびサービスマネジメントプロセスの機能を継続的に改善する。


## ITサービスの中断に対処するための戦略として以下の6つの復旧オプションを挙げています。

### 段階的復旧(コールド・スタンバイ)
コンピュータシステムを設置できる施設だけを確保しておき、障害発生時にはそこに機材などを搬入してバックアップサイトとして機能させる方式。  
障害発生後には、システムの導入とデータの復旧を行って業務を引き継ぐ。

- 遠隔地のデータセンタに機器を設置できる場所を確保しておき，災害時にはコンピュータ機器を設置し，ソフトウェアのセットアップやデータの復元を行って，ITサービスを復旧させる。

### 中間的復旧(ウォーム・スタンバイ)
バックアップサイトに本システムと同じ機器を全部(あるいは部分的に)設置しておく方式。  
障害発生後には、追加の機器やデータおよびプログラム媒体を搬入してから予備系システムを立ち上げて処理を引き継ぐ。

- 遠隔地のデータセンタに本稼働システムと同一構成の機器を準備するとともに，本稼働システムのデータをバックアップしておき，災害時にはその遠隔地のデータセンタに切り替えてITサービスを復旧させる。

### 高速復旧(ホット・スタンバイ)
バックアップサイトに本システムと同じ機器及びバックアップデータを用意しておく方式。  
非常時にはデータの復旧を行ってから処理を引き継ぐ。本システムを同じものを稼働させておき、定期的に同期をとる方式もこれに含まれる。  


### 即時的復旧(ホット・スタンバイ)
日常からバックアップサイトで本システムと同じものを稼働させておき、非常事態が起きたときに切れ目なく業務を引き継ぐ方式。  
常に本システムのデータとの同期が行われており、障害発生時に直ぐにその施設でシステムを運用できる体制になっている。  

- 同時に被災する可能性がほとんどない複数のデータセンタにシステムを分散して稼働させることによって，一部のデータセンタが被災しても顧客に対するサービスの深刻な停止を引き起こすことなく，ITサービスを即時に復旧させる。

### 相互協定
他の事業者と協定を結び、非常時には他の事業者のリソースを使用してITサービスを復旧させる方法。  

- 災害時のIT資源の相互利用について他の組織と合意しておき，災害時には他の組織のIT資源を利用してITサービスを復旧させる。


### 手作業のワークアラウンド
ITサービスが再開するまでの数日間、緊急的な措置として業務を手作業で遂行する方法。  
通常は他の復旧オプションと併用される。  





# その他

- データ管理者（DA）とデータベース管理者（DBA）は、データベースの管理を専門的に扱う職種です。
    - データ管理者（DA:Data Administrator）
        - 業務の実世界から概念設計、システム化の範囲で論理設計などデータそのものの管理を行う。
    - データベース管理者（DBA:DataBase Administrator）
        - DAが設計した論理データモデルから物理設計を行い、データベースを構築したり、構築後のデータベースの運用設計および運用保守などデータベースの管理を行う。



## フルバックアップ方式
- 毎回データ全体のバックアップを行う方式。復旧時間は短くなるが、バックアップに要する時間は長い。
## 差分バックアップ方式
- 定期的にフルバックアップを行い、次のフルバックアップまでの期間は、フルバックアップ以降に変更のあったファイル(差分)だけを記録していく方式。
- バックアップ時間は短くて済むが、復旧は①フルバックアップの適用→②差分バックアップを適用という流れになるのでフルバックアップ方式と比較して作業時間がかかる。

    ![バックアップ方式](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/backup_1.png)  
    ![バックアップ方式](https://github.com/MediumMountain/Study_Architect/blob/main/PICTURE/Manage/backup_2.png)  



## 復旧
### ロールフォワード
- 更新後ログを用いてコミット済のトランザクションを再現し、データベースを障害発生直前の状態に回復する作業です。
- 前進復帰と訳され、データベースシステムに障害が起こったときに、更新後ログを用いて今まで処理したトランザクションを再現し、システム障害直前までデータベース情報を復帰させる処理です。
    - ディスクの媒体障害が発生した際には、新しいディスクに入れ替えた後にフルバックアップデータからデータを復元し、続いてバックアップ時点から障害発生時点までのトランザクションの内容をロールフォワード処理でデータベースに適用します。

    - フルバックアップ取得時点から次回フルバックアップまでにコミットされたトランザクションについては、ジャーナル情報を元に復旧処理を行います。このためフルバックアップ取得の時間間隔が2倍になると、ロールフォワードで用いるジャーナル情報が平均して約2倍に増加し、ロールフォワードに要する時間も平均して約2倍になります。

### チェックポイントリスタート
- チェックポイントリスタートは、トランザクション障害やシステム障害から復帰するときに、直前のチェックポイント(データベース処理とディスク内容の同期ポイント)まで戻ってから再開する方法です。

### リブート
- リブートは、システム障害などから回復するためにマシンを再起動することです。

### ロールバック
- ロールバックは、トランザクション障害やシステム障害の発生でトランザクションが正常に終了しなかった場合に、更新前ログを用いてデータベースをトランザクション開始直前の状態に戻す処理です。
    - トランザクション障害が発生したときには、更新前ログを使用してデータベースをトランザクション以前の状態に戻すロールバックを行わなくてはなりません。安易な再試行を行うとデータベースに不具合が生じる可能性があります。




### レプリケーション(Replication)
- DBMS(データベースマネジメントシステム)が持つ機能の一つで、データベースに加えた変更を他の別のネットワーク上にある複製データベースに自動的に反映させることで信頼性や耐障害性を高める仕組みです。
- レプリケーションとは、本来「複製」の意ですが、データを長期にわたって保存するバックアップと異なり、レプリケーションでは頻繁にデータ更新が行われます。
- 災害によって機器や施設が破壊されても別の場所に複製があれば迅速な復旧を行うことができます。




### UPS(Uninterruptible Power Supply)
- 落雷などによる突発的な停電が発生したときに自家発電装置が電源を供給し始めるまでの間、サーバに電源を供給する役目をもつ機器です。
- 機器内部に電気を蓄えていて、電源の瞬断時にシステムを安全に終了する時間を与えてくれたり、自家発電装置による電源供給までの間、つなぎの役目を果たしたりします。

### AVR(Automatic Voltage Regulator)
- 自動電圧調整器のこと。電圧を安定させるための装置です。

### CVCF(Constant Voltage Constant Frequency)
- 定電圧定周波数のこと。電圧と周波数を安定させる装置、またはその機能のことです。
