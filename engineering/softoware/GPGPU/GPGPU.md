# GPGPU 【General-Purpose computing on Graphics Processing Units】

- 画像処理を高速に実行するGPU（Graphics Processing Unit）の機能を、画像処理以外の用途に転用すること。




なぜ演算性能が高いのか？
GPUでは、CPUに搭載されている分岐予測・投機実行 アウトオブオーダーが簡素化されており、その分、コア数を増やすことができる。

分岐予測・投機実行とは？
条件分岐した際の処理を前もって実行しておくこと。 過去の実行履歴から実行される可能性の高い命令を実行しておく。

```
[イメージ]
----------------------------------------------------
  arr = [1, 3, 5, 7, 8];
  for (elm as arr){  
    if(elm % 2 == 1){
      echo "odd"; //奇数が続くためCPUは事前にこの処理を予測し実行しておく
    }else{
      echo "even"; //偶数が来た時にはoddの結果を破棄してこちらを実行する
    }
  }
----------------------------------------------------
```
こうすることで命令処理全体の実行時間を短縮できる。

アウトオブオーダーとは？
プログラムに記述された命令の順番に関係なく処理が行われる仕組みのこと。
処理に必要なデータが揃った命令から実行するようにする。

```
[イメージ]
----------------------------------------------------
x = 1 + 1;
y = x + 1; //→yはxに依存しているためxの計算の後に処理が行われないといけない
z = 1 + 1; //→zは独立して計算できるため、yの処理でxのメモリを並行して行うことができる
----------------------------------------------------
```
こうすることで命令処理全体の実行時間を短縮できる。




OpenCLとCUDAの違い  
CUDAではプログラムコンパイル時に計算 カーネルのコンパイルを行い、プログラム実行時にはコンパイル済みの計算カーネルをロード し実行する。   
これに対して、OpenCLではプログラム実行時に計算カーネルのコンパイルを行 う機構が用いられる。  